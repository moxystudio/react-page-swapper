{"version":3,"file":"static/webpack/static/development/pages/_app.js.09da207df8fefc4a0370.hot-update.js","sources":["webpack:///./components/scroll-behavior/scroll-behavior.js"],"sourcesContent":["import { wrap } from 'lodash';\nimport ScrollBehavior from 'scroll-behavior';\nimport setupHistory from './history';\nimport StateStorage from './StateStorage';\n\nsetupHistory();\n\nconst stateStorage = new StateStorage();\nconst scrollBehaviorSymbol = Symbol('scrollBehavior');\n\nconst createScrollBehavior = (router) => {\n    if (router[scrollBehaviorSymbol]) {\n        return router[scrollBehaviorSymbol];\n    }\n\n    router.beforePopState = wrap(router.beforePopState, (beforePopState, fn) => {\n        fn = wrap(fn, (fn, state) => {\n            // Restore location key from history\n            location.key = state.locationKey;\n\n            return fn(state);\n        });\n\n        return beforePopState.call(router, fn);\n    });\n\n    router.beforePopState(() => true);\n\n    const scrollBehavior = new ScrollBehavior({\n        addNavigationListener: (callback) => {\n            router.events.on('routeChangeComplete', callback);\n\n            return () => {\n                router.events.off('routeChangeComplete', callback);\n            };\n        },\n        getCurrentLocation: () => location,\n        stateStorage,\n    });\n\n    router[scrollBehaviorSymbol] = scrollBehavior;\n\n    return scrollBehavior;\n};\n\nexport default createScrollBehavior;\n"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AATA;AAYA;AAEA;AACA;AACA;AACA;;;;A","sourceRoot":""}